function m(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}var a=m,i=d;typeof globalThis.setTimeout=="function"&&(a=setTimeout);typeof globalThis.clearTimeout=="function"&&(i=clearTimeout);function h(e){if(a===setTimeout)return setTimeout(e,0);if((a===m||!a)&&setTimeout)return a=setTimeout,setTimeout(e,0);try{return a(e,0)}catch{try{return a.call(null,e,0)}catch{return a.call(this,e,0)}}}function T(e){if(i===clearTimeout)return clearTimeout(e);if((i===d||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch{try{return i.call(null,e)}catch{return i.call(this,e)}}}var o=[],l=!1,u,p=-1;function E(){!l||!u||(l=!1,u.length?o=u.concat(o):p=-1,o.length&&w())}function w(){if(!l){var e=h(E);l=!0;for(var t=o.length;t;){for(u=o,o=[];++p<t;)u&&u[p].run();p=-1,t=o.length}u=null,l=!1,T(e)}}function A(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];o.push(new g(e,t)),o.length===1&&!l&&h(w)}function g(e,t){this.fun=e,this.array=t}g.prototype.run=function(){this.fun.apply(null,this.array)};var b="browser",q="browser",C=!0,x={},R=[],F="",L={},N={},D={};function s(){}var H=s,O=s,S=s,k=s,I=s,X=s,M=s;function P(e){throw new Error("process.binding is not supported")}function Q(){return"/"}function U(e){throw new Error("process.chdir is not supported")}function j(){return 0}var c=globalThis.performance||{},z=c.now||c.mozNow||c.msNow||c.oNow||c.webkitNow||function(){return new Date().getTime()};function $(e){var t=z.call(c)*.001,n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n=n-e[0],r=r-e[1],r<0&&(n--,r+=1e9)),[n,r]}var B=new Date;function G(){var e=new Date,t=e-B;return t/1e3}var y={nextTick:A,title:b,browser:C,env:x,argv:R,version:F,versions:L,on:H,addListener:O,once:S,off:k,removeListener:I,removeAllListeners:X,emit:M,binding:P,cwd:Q,chdir:U,umask:j,hrtime:$,platform:q,release:N,config:D,uptime:G},v={};Object.keys(v).forEach(e=>{let t=e.split("."),n=y;for(let r=0;r<t.length;r++){let f=t[r];r===t.length-1?n[f]=v[e]:n=n[f]||(n[f]={})}});var J=async(e,t)=>{let n=t.cma;return{message:"TODO: Replace with your App Action implementation",timestamp:new Date().toISOString()}},K=async(e,t)=>{if(e.headers["X-Contentful-Topic"].includes("Entry")){let n=e.body}},V=(e,t)=>{if(e.headers["X-Contentful-Topic"].includes("Entry")){let n=e.body}return{result:!0}},W=async(e,t)=>{if(e.headers["X-Contentful-Topic"].includes("Entry")){let n=e.body}return{body:{...e.body},headers:{...e.headers}}},Z=async(e,t)=>{switch(e.type){case"appaction.call":return J(e,t);case"appevent.handler":return K(e,t);case"appevent.filter":return V(e,t);case"appevent.transformation":return W(e,t);default:throw new Error(`Unsupported event type: ${e.type}`)}};export{Z as handler};
