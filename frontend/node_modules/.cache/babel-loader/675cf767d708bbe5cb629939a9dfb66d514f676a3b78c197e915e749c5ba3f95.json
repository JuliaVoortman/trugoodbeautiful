{"ast":null,"code":"import{createClient}from'contentful';const client=createClient({space:process.env.REACT_APP_CONTENTFUL_SPACE_ID,accessToken:process.env.REACT_APP_CONTENTFUL_ACCESS_TOKEN});export const getPage=async slug=>{try{const response=await client.getEntries({content_type:'page','fields.title[match]':slug,limit:1});if(response.items&&response.items.length>0){return response.items[0];}return null;}catch(error){console.error('Error fetching page:',error);return null;}};export const getSponsors=async()=>{try{const response=await client.getEntries({content_type:'sponsor',order:['fields.name']});if(!response.items){throw new Error('Error fetching sponsors');}return response.items;}catch(error){console.error('Error in getSponsors:',error);return[];}};export const getStories=async()=>{console.log('Fetching stories from Contentful');try{const response=await client.getEntries({content_type:'story',// Make sure this matches the ID in your Contentful export\norder:'-fields.publicationDate',include:2});console.log('Stories response:',{total:response.total,items:response.items,firstStory:response.items[0]});return response.items;}catch(error){console.error('Error fetching stories:',error);throw error;}};export const getArticles=async()=>{try{const response=await client.getEntries({content_type:'article',include:2// This will include linked entries 2 levels deep\n});return response.items;}catch(error){console.error('Error fetching articles:',error);return[];}};export const getSources=async()=>{try{const response=await client.getEntries({content_type:'source',order:'fields.name'});return response.items;}catch(error){console.error('Error fetching sources:',error);return[];}};","map":{"version":3,"names":["createClient","client","space","process","env","REACT_APP_CONTENTFUL_SPACE_ID","accessToken","REACT_APP_CONTENTFUL_ACCESS_TOKEN","getPage","slug","response","getEntries","content_type","limit","items","length","error","console","getSponsors","order","Error","getStories","log","include","total","firstStory","getArticles","getSources"],"sources":["/Users/julia.voortman/Documents/trugoodbeautiful/frontend/src/lib/contentful.js"],"sourcesContent":["import { createClient } from 'contentful';\n\nconst client = createClient({\n  space: process.env.REACT_APP_CONTENTFUL_SPACE_ID,\n  accessToken: process.env.REACT_APP_CONTENTFUL_ACCESS_TOKEN,\n});\n\nexport const getPage = async (slug) => {\n  try {\n    const response = await client.getEntries({\n      content_type: 'page',\n      'fields.title[match]': slug,\n      limit: 1\n    });\n\n    if (response.items && response.items.length > 0) {\n      return response.items[0];\n    }\n    return null;\n  } catch (error) {\n    console.error('Error fetching page:', error);\n    return null;\n  }\n}\n\nexport const getSponsors = async () => {\n  try {\n    const response = await client.getEntries({\n      content_type: 'sponsor',\n      order: ['fields.name'],\n    });\n\n    if (!response.items) {\n      throw new Error('Error fetching sponsors');\n    }\n\n    return response.items;\n  } catch (error) {\n    console.error('Error in getSponsors:', error);\n    return [];\n  }\n};\n\nexport const getStories = async () => {\n  console.log('Fetching stories from Contentful');\n  try {\n    const response = await client.getEntries({\n      content_type: 'story', // Make sure this matches the ID in your Contentful export\n      order: '-fields.publicationDate',\n      include: 2\n    });\n    \n    console.log('Stories response:', {\n      total: response.total,\n      items: response.items,\n      firstStory: response.items[0]\n    });\n    \n    return response.items;\n  } catch (error) {\n    console.error('Error fetching stories:', error);\n    throw error;\n  }\n};\n\n\nexport const getArticles = async () => {\n  try {\n    const response = await client.getEntries({\n      content_type: 'article',\n      include: 2, // This will include linked entries 2 levels deep\n    });\n    \n    \n    return response.items;\n  } catch (error) {\n    console.error('Error fetching articles:', error);\n    return [];\n  }\n};\n\nexport const getSources = async () => {\n  try {\n    const response = await client.getEntries({\n      content_type: 'source',\n      order: 'fields.name'\n    });\n    return response.items;\n  } catch (error) {\n    console.error('Error fetching sources:', error);\n    return [];\n  }\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}