{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Globe,Tag,X}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FilterSystem=_ref=>{let{articles,onFilterChange}=_ref;const[selectedRegion,setSelectedRegion]=useState('all');const[selectedTags,setSelectedTags]=useState([]);const[showFilters,setShowFilters]=useState(false);// Extract unique regions and tags from articles\nconst regions=Array.from(new Set(articles.map(article=>article.fields.geographicLocation))).sort();const allTags=Array.from(new Set(articles.flatMap(article=>{var _article$fields$tags;return((_article$fields$tags=article.fields.tags)===null||_article$fields$tags===void 0?void 0:_article$fields$tags.map(tag=>tag.fields.name))||[];}))).sort();// Filter articles based on selected criteria\nuseEffect(()=>{const filteredArticles=articles.filter(article=>{const matchesRegion=selectedRegion==='all'||article.fields.geographicLocation===selectedRegion;const matchesTags=selectedTags.length===0||selectedTags.every(tag=>{var _article$fields$tags2;return(_article$fields$tags2=article.fields.tags)===null||_article$fields$tags2===void 0?void 0:_article$fields$tags2.some(articleTag=>articleTag.fields.name===tag);});return matchesRegion&&matchesTags;});onFilterChange(filteredArticles);},[selectedRegion,selectedTags,articles]);const toggleTag=tag=>{setSelectedTags(prev=>prev.includes(tag)?prev.filter(t=>t!==tag):[...prev,tag]);};return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowFilters(!showFilters),className:\"mb-4 px-4 py-2 bg-slate-100 hover:bg-slate-200 rounded-full flex items-center space-x-2 mx-auto transition-colors duration-300\",children:[/*#__PURE__*/_jsx(Globe,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:showFilters?'Hide Filters':'Show Filters'})]}),showFilters&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium mb-3\",children:\"Region\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedRegion('all'),className:`px-3 py-1 rounded-full text-sm ${selectedRegion==='all'?'bg-emerald-500 text-white':'bg-slate-100 hover:bg-slate-200 text-slate-700'}`,children:\"All Regions\"}),regions.map(region=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedRegion(region),className:`px-3 py-1 rounded-full text-sm ${selectedRegion===region?'bg-emerald-500 text-white':'bg-slate-100 hover:bg-slate-200 text-slate-700'}`,children:region},region))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium mb-3\",children:\"Topics\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:allTags.map(tag=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>toggleTag(tag),className:`px-3 py-1 rounded-full text-sm flex items-center space-x-1 ${selectedTags.includes(tag)?'bg-blue-500 text-white':'bg-slate-100 hover:bg-slate-200 text-slate-700'}`,children:[/*#__PURE__*/_jsx(Tag,{className:\"w-3 h-3\"}),/*#__PURE__*/_jsx(\"span\",{children:tag})]},tag))})]}),(selectedRegion!=='all'||selectedTags.length>0)&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 pt-4 border-t border-slate-100\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium mb-2\",children:\"Active Filters:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2\",children:[selectedRegion!=='all'&&/*#__PURE__*/_jsxs(\"span\",{className:\"px-2 py-1 bg-emerald-100 text-emerald-700 rounded-full text-sm flex items-center\",children:[selectedRegion,/*#__PURE__*/_jsx(X,{className:\"w-3 h-3 ml-1 cursor-pointer\",onClick:()=>setSelectedRegion('all')})]}),selectedTags.map(tag=>/*#__PURE__*/_jsxs(\"span\",{className:\"px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-sm flex items-center\",children:[tag,/*#__PURE__*/_jsx(X,{className:\"w-3 h-3 ml-1 cursor-pointer\",onClick:()=>toggleTag(tag)})]},tag))]})]})]})]});};export default FilterSystem;","map":{"version":3,"names":["React","useState","useEffect","Globe","Tag","X","jsx","_jsx","jsxs","_jsxs","FilterSystem","_ref","articles","onFilterChange","selectedRegion","setSelectedRegion","selectedTags","setSelectedTags","showFilters","setShowFilters","regions","Array","from","Set","map","article","fields","geographicLocation","sort","allTags","flatMap","_article$fields$tags","tags","tag","name","filteredArticles","filter","matchesRegion","matchesTags","length","every","_article$fields$tags2","some","articleTag","toggleTag","prev","includes","t","className","children","onClick","region"],"sources":["/Users/julia.voortman/Documents/trugoodbeautiful/frontend/src/components/FilterSystem.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Globe, Tag, X } from 'lucide-react';\n\nconst FilterSystem = ({ articles, onFilterChange }) => {\n  const [selectedRegion, setSelectedRegion] = useState('all');\n  const [selectedTags, setSelectedTags] = useState([]);\n  const [showFilters, setShowFilters] = useState(false);\n\n  // Extract unique regions and tags from articles\n  const regions = Array.from(new Set(articles.map(article => \n    article.fields.geographicLocation\n  ))).sort();\n\n  const allTags = Array.from(new Set(articles.flatMap(article => \n    article.fields.tags?.map(tag => tag.fields.name) || []\n  ))).sort();\n\n  // Filter articles based on selected criteria\n  useEffect(() => {\n    const filteredArticles = articles.filter(article => {\n      const matchesRegion = selectedRegion === 'all' || \n        article.fields.geographicLocation === selectedRegion;\n      \n      const matchesTags = selectedTags.length === 0 || \n        selectedTags.every(tag => \n          article.fields.tags?.some(articleTag => \n            articleTag.fields.name === tag\n          )\n        );\n\n      return matchesRegion && matchesTags;\n    });\n\n    onFilterChange(filteredArticles);\n  }, [selectedRegion, selectedTags, articles]);\n\n  const toggleTag = (tag) => {\n    setSelectedTags(prev => \n      prev.includes(tag) \n        ? prev.filter(t => t !== tag)\n        : [...prev, tag]\n    );\n  };\n\n  return (\n    <div className=\"mb-8\">\n      {/* Filter Toggle Button */}\n      <button\n        onClick={() => setShowFilters(!showFilters)}\n        className=\"mb-4 px-4 py-2 bg-slate-100 hover:bg-slate-200 rounded-full flex items-center space-x-2 mx-auto transition-colors duration-300\"\n      >\n        <Globe className=\"w-4 h-4\" />\n        <span>{showFilters ? 'Hide Filters' : 'Show Filters'}</span>\n      </button>\n\n      {/* Filter Panel */}\n      {showFilters && (\n        <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\n          {/* Region Selection */}\n          <div className=\"mb-6\">\n            <h3 className=\"text-lg font-medium mb-3\">Region</h3>\n            <div className=\"flex flex-wrap gap-2\">\n              <button\n                onClick={() => setSelectedRegion('all')}\n                className={`px-3 py-1 rounded-full text-sm ${\n                  selectedRegion === 'all'\n                    ? 'bg-emerald-500 text-white'\n                    : 'bg-slate-100 hover:bg-slate-200 text-slate-700'\n                }`}\n              >\n                All Regions\n              </button>\n              {regions.map(region => (\n                <button\n                  key={region}\n                  onClick={() => setSelectedRegion(region)}\n                  className={`px-3 py-1 rounded-full text-sm ${\n                    selectedRegion === region\n                      ? 'bg-emerald-500 text-white'\n                      : 'bg-slate-100 hover:bg-slate-200 text-slate-700'\n                  }`}\n                >\n                  {region}\n                </button>\n              ))}\n            </div>\n          </div>\n\n          {/* Tags Selection */}\n          <div>\n            <h3 className=\"text-lg font-medium mb-3\">Topics</h3>\n            <div className=\"flex flex-wrap gap-2\">\n              {allTags.map(tag => (\n                <button\n                  key={tag}\n                  onClick={() => toggleTag(tag)}\n                  className={`px-3 py-1 rounded-full text-sm flex items-center space-x-1 ${\n                    selectedTags.includes(tag)\n                      ? 'bg-blue-500 text-white'\n                      : 'bg-slate-100 hover:bg-slate-200 text-slate-700'\n                  }`}\n                >\n                  <Tag className=\"w-3 h-3\" />\n                  <span>{tag}</span>\n                </button>\n              ))}\n            </div>\n          </div>\n\n          {/* Active Filters Display */}\n          {(selectedRegion !== 'all' || selectedTags.length > 0) && (\n            <div className=\"mt-4 pt-4 border-t border-slate-100\">\n              <h3 className=\"text-sm font-medium mb-2\">Active Filters:</h3>\n              <div className=\"flex flex-wrap gap-2\">\n                {selectedRegion !== 'all' && (\n                  <span className=\"px-2 py-1 bg-emerald-100 text-emerald-700 rounded-full text-sm flex items-center\">\n                    {selectedRegion}\n                    <X \n                      className=\"w-3 h-3 ml-1 cursor-pointer\" \n                      onClick={() => setSelectedRegion('all')}\n                    />\n                  </span>\n                )}\n                {selectedTags.map(tag => (\n                  <span \n                    key={tag}\n                    className=\"px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-sm flex items-center\"\n                  >\n                    {tag}\n                    <X \n                      className=\"w-3 h-3 ml-1 cursor-pointer\" \n                      onClick={() => toggleTag(tag)}\n                    />\n                  </span>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default FilterSystem;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}