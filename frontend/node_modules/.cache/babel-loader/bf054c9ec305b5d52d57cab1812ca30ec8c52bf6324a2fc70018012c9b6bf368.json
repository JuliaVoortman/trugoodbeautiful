{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams,useNavigate}from'react-router-dom';import StoryModal from'./StoryModal';import{jsx as _jsx}from\"react/jsx-runtime\";const SingleStoryView=_ref=>{let{stories,selectedSentiment,setSelectedSentiment}=_ref;const{slug}=useParams();const navigate=useNavigate();const[story,setStory]=useState(null);useEffect(()=>{if(stories!==null&&stories!==void 0&&stories.length){const foundStory=stories.find(s=>{var _s$fields;return(((_s$fields=s.fields)===null||_s$fields===void 0?void 0:_s$fields.slug)||s.sys.id)===slug;});if(foundStory){setStory(foundStory);}else{navigate('/');// Redirect if story not found\n}}},[slug,stories,navigate]);if(!story)return null;return/*#__PURE__*/_jsx(StoryModal,{isOpen:true,onClose:()=>navigate('/'),story:story});};export default SingleStoryView;","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","StoryModal","jsx","_jsx","SingleStoryView","_ref","stories","selectedSentiment","setSelectedSentiment","slug","navigate","story","setStory","length","foundStory","find","s","_s$fields","fields","sys","id","isOpen","onClose"],"sources":["/Users/julia.voortman/Documents/trugoodbeautiful/frontend/src/components/SingleStoryView.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport StoryModal from './StoryModal';\n\nconst SingleStoryView = ({ stories, selectedSentiment, setSelectedSentiment }) => {\n  const { slug } = useParams();\n  const navigate = useNavigate();\n  const [story, setStory] = useState(null);\n\n  useEffect(() => {\n    if (stories?.length) {\n      const foundStory = stories.find(s => (s.fields?.slug || s.sys.id) === slug);\n      if (foundStory) {\n        setStory(foundStory);\n      } else {\n        navigate('/'); // Redirect if story not found\n      }\n    }\n  }, [slug, stories, navigate]);\n\n  if (!story) return null;\n\n  return (\n    <StoryModal \n      isOpen={true}\n      onClose={() => navigate('/')}\n      story={story}\n    />\n  );\n};\n\nexport default SingleStoryView;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CACzD,MAAO,CAAAC,UAAU,KAAM,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEtC,KAAM,CAAAC,eAAe,CAAGC,IAAA,EAA0D,IAAzD,CAAEC,OAAO,CAAEC,iBAAiB,CAAEC,oBAAqB,CAAC,CAAAH,IAAA,CAC3E,KAAM,CAAEI,IAAK,CAAC,CAAGV,SAAS,CAAC,CAAC,CAC5B,KAAM,CAAAW,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACW,KAAK,CAAEC,QAAQ,CAAC,CAAGd,QAAQ,CAAC,IAAI,CAAC,CAExCD,SAAS,CAAC,IAAM,CACd,GAAIS,OAAO,SAAPA,OAAO,WAAPA,OAAO,CAAEO,MAAM,CAAE,CACnB,KAAM,CAAAC,UAAU,CAAGR,OAAO,CAACS,IAAI,CAACC,CAAC,OAAAC,SAAA,OAAI,CAAC,EAAAA,SAAA,CAAAD,CAAC,CAACE,MAAM,UAAAD,SAAA,iBAARA,SAAA,CAAUR,IAAI,GAAIO,CAAC,CAACG,GAAG,CAACC,EAAE,IAAMX,IAAI,GAAC,CAC3E,GAAIK,UAAU,CAAE,CACdF,QAAQ,CAACE,UAAU,CAAC,CACtB,CAAC,IAAM,CACLJ,QAAQ,CAAC,GAAG,CAAC,CAAE;AACjB,CACF,CACF,CAAC,CAAE,CAACD,IAAI,CAAEH,OAAO,CAAEI,QAAQ,CAAC,CAAC,CAE7B,GAAI,CAACC,KAAK,CAAE,MAAO,KAAI,CAEvB,mBACER,IAAA,CAACF,UAAU,EACToB,MAAM,CAAE,IAAK,CACbC,OAAO,CAAEA,CAAA,GAAMZ,QAAQ,CAAC,GAAG,CAAE,CAC7BC,KAAK,CAAEA,KAAM,CACd,CAAC,CAEN,CAAC,CAED,cAAe,CAAAP,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}