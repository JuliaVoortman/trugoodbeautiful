{"ast":null,"code":"import React,{useState,useEffect}from'react';import{createClient}from'contentful';import ArticleCard from'./components/ArticleCard';import FilterSystem from'./components/FilterSystem';import ContinentsMap from'./components/map/ContinentsMap';// Import ContinentsMap\nimport'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const client=createClient({space:process.env.REACT_APP_CONTENTFUL_SPACE_ID,accessToken:process.env.REACT_APP_CONTENTFUL_ACCESS_TOKEN});function App(){const[articles,setArticles]=useState([]);const[filteredArticles,setFilteredArticles]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[selectedSentiment,setSelectedSentiment]=useState('all');useEffect(()=>{const fetchArticles=async()=>{try{const response=await client.getEntries({content_type:'article',include:2});const articleData=response.items.map(item=>({...item,coordinates:[parseFloat(item.fields.geographicLocation.split(\", \")[1]),//longitude\nparseFloat(item.fields.geographicLocation.split(\", \")[0])//latitude\n],sentiment:item.fields.sentimentType.fields.title}));setArticles(articleData);setFilteredArticles(articleData);setLoading(false);}catch(err){console.error('Error fetching articles:',err);setError(err.message);setLoading(false);}};fetchArticles();},[]);const handleRegionSelect=region=>{setFilteredArticles(articles.filter(article=>article.fields.geographicLocation===region));};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-slate-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-xl text-slate-600\",children:\"Loading stories of progress...\"})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-slate-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-xl text-red-600\",children:[\"Error: \",error]})});}return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-slate-50 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"mb-8 text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-serif text-slate-800 mb-2\",children:\"TruGoodBeautiful\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-600\",children:\"Illuminating Progress, Celebrating Solutions\"})]}),/*#__PURE__*/_jsx(ContinentsMap,{}),\" \",/*#__PURE__*/_jsx(FilterSystem,{articles:articles,onFilterChange:setFilteredArticles}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:filteredArticles.map(article=>/*#__PURE__*/_jsx(ArticleCard,{article:article},article.sys.id))}),filteredArticles.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-600\",children:\"No stories found for the selected filters.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFilteredArticles(articles),className:\"mt-4 px-4 py-2 bg-emerald-500 text-white rounded-full hover:bg-emerald-600 transition-colors duration-300\",children:\"Reset Filters\"})]})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","createClient","ArticleCard","FilterSystem","ContinentsMap","jsx","_jsx","jsxs","_jsxs","client","space","process","env","REACT_APP_CONTENTFUL_SPACE_ID","accessToken","REACT_APP_CONTENTFUL_ACCESS_TOKEN","App","articles","setArticles","filteredArticles","setFilteredArticles","loading","setLoading","error","setError","selectedSentiment","setSelectedSentiment","fetchArticles","response","getEntries","content_type","include","articleData","items","map","item","coordinates","parseFloat","fields","geographicLocation","split","sentiment","sentimentType","title","err","console","message","handleRegionSelect","region","filter","article","className","children","onFilterChange","sys","id","length","onClick"],"sources":["/Users/julia.voortman/Documents/trugoodbeautiful/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { createClient } from 'contentful';\nimport ArticleCard from './components/ArticleCard';\nimport FilterSystem from './components/FilterSystem';\nimport ContinentsMap from './components/map/ContinentsMap'; // Import ContinentsMap\nimport './App.css';\n\nconst client = createClient({\n  space: process.env.REACT_APP_CONTENTFUL_SPACE_ID,\n  accessToken: process.env.REACT_APP_CONTENTFUL_ACCESS_TOKEN,\n});\n\nfunction App() {\n  const [articles, setArticles] = useState([]);\n  const [filteredArticles, setFilteredArticles] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedSentiment, setSelectedSentiment] = useState('all');\n\n  useEffect(() => {\n    const fetchArticles = async () => {\n      try {\n        const response = await client.getEntries({\n          content_type: 'article',\n          include: 2,\n        });\n\n        const articleData = response.items.map((item) => ({\n          ...item,\n          coordinates: [\n            parseFloat(item.fields.geographicLocation.split(\", \")[1]), //longitude\n            parseFloat(item.fields.geographicLocation.split(\", \")[0]), //latitude\n          ],\n          sentiment: item.fields.sentimentType.fields.title,\n        }));\n\n        setArticles(articleData);\n        setFilteredArticles(articleData);\n        setLoading(false);\n      } catch (err) {\n        console.error('Error fetching articles:', err);\n        setError(err.message);\n        setLoading(false);\n      }\n    };\n\n    fetchArticles();\n  }, []);\n\n  const handleRegionSelect = (region) => {\n    setFilteredArticles(\n      articles.filter(article => \n        article.fields.geographicLocation === region\n      )\n    );\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-slate-50\">\n        <div className=\"text-xl text-slate-600\">Loading stories of progress...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-slate-50\">\n        <div className=\"text-xl text-red-600\">Error: {error}</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-slate-50 p-6\">\n      <div className=\"max-w-7xl mx-auto\">\n        <header className=\"mb-8 text-center\">\n          <h1 className=\"text-4xl font-serif text-slate-800 mb-2\">TruGoodBeautiful</h1>\n          <p className=\"text-slate-600\">Illuminating Progress, Celebrating Solutions</p>\n        </header>\n\n        <ContinentsMap /> {/* Render ContinentsMap component */}\n        \n        <FilterSystem \n          articles={articles} \n          onFilterChange={setFilteredArticles} \n        />\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {filteredArticles.map((article) => (\n            <ArticleCard key={article.sys.id} article={article} />\n          ))}\n        </div>\n\n        {filteredArticles.length === 0 && (\n          <div className=\"text-center py-12\">\n            <p className=\"text-slate-600\">No stories found for the selected filters.</p>\n            <button \n              onClick={() => setFilteredArticles(articles)}\n              className=\"mt-4 px-4 py-2 bg-emerald-500 text-white rounded-full hover:bg-emerald-600 transition-colors duration-300\"\n            >\n              Reset Filters\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}